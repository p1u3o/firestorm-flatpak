{
  "app-id":"org.firestormviewer.FirestormViewer",
  "branch":"stable",
  "runtime":"org.freedesktop.Platform",
  "runtime-version":"19.08",
  "sdk":"org.freedesktop.Sdk",
  "command":"firestorm-viewer",
  "separate-locales":false,
  "finish-args":[
    "--share=ipc",
    "--socket=x11",
    "--socket=pulseaudio",
    "--share=network",
    "--allow=multiarch",
    "--device=dri",
    "--filesystem=xdg-documents",
    "--filesystem=xdg-download",
    "--filesystem=xdg-music",
    "--filesystem=xdg-pictures",
    "--persist=.firestorm_x64",
    "--persist=.wine",
    "--talk-name=org.freedesktop.Notifications",
    "--own-name=com.secondlife.ViewerAppAPIService",
    "--filesystem=xdg-run/app/com.discordapp.Discord:create"
  ],
  "cleanup":[
    "/share/man",
    "/share/doc",
    "/share/gtk-doc",
    "/lib/pkgconfig",
    "/lib/debug"
  ],
  "build-options":{
    "strip":true
  },
  "add-extensions":{
    "org.freedesktop.Platform.Compat.i386":{
      "directory":"lib/i386-linux-gnu",
      "version":"19.08"
    }
  },
  "sdk-extensions":[
    "org.freedesktop.Sdk.Compat.i386",
    "org.freedesktop.Sdk.Extension.toolchain-i386"
  ],
  "modules":[
    "shared-modules/glu/glu-9.json",
    "shared-modules/gtk2/gtk2.json",
    "shared-modules/dbus-glib/dbus-glib-0.110.json",
    "shared-modules/python2.7/python-2.7.json",
    "modules/python2-llbase.json",
    "modules/libnotify.json",
    "modules/openal.json",
    "modules/boost.json",
    "modules/bdb.json",
    "modules/apr.json",
    {
      "name":"firestormviewer",
      "buildsystem":"simple",
      "cleanup":"viewer.tar.xz",
      "sources":[
        {
            "type": "archive",
            "url": "https://bitbucket.org/lindenlab/autobuild-1.1/get/1c3a92a97564.zip",
            "sha512" : "62ec08125e3b62d1335f52c491d93d4381be8755d9fc9aef3e09f589dfede397ad5fb6dfce75ff8a61c24825ccb0734737c7c7e82f082d5d8a7a4c034df0b74e",
            "dest": "autobuild-1.1"
        },
        {
            "type": "file",
            "path": "build/build-viewer.sh"
        },
        {
            "type": "file",
            "path": "build/variables"
        },
        {
          "type":"archive",
          "path":"build/381d04b870a59ef98cc442a5d4aeb6b38cfdbed7.tar.gz"
        },
        {
          "type":"file",
          "path":"assets/firestorm-viewer"
        },
        {
          "type":"file",
          "path":"assets/launch_url.sh"
        },
        {
          "type":"file",
          "path":"assets/org.firestormviewer.FirestormViewer.desktop"
        },
        {
          "type":"file",
          "path":"assets/org.firestormviewer.FirestormViewer.appdata.xml"
        },
        {
          "type":"file",
          "path":"assets/org.firestormviewer.FirestormViewer-symbolic.svg"
        }
      ],
      "build-commands":[
          "sh ./build-viewer.sh"
      ]
    }
  ]
}
